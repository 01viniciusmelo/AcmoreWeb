{% extends "base.html" %}

{% block title %}
Create Contest.
{% endblock %}

{% block style %}
<style>
.add-problem-action {
    position: relative;
    cursor: pointer;
    height: 25px;
}
.add-problem-action>hr {
    border-top: 3px dashed #ccc;
}
.add-problem-action>a {
    position: absolute;
    right: 0;
    top: -10px;
    background-color: #fff;
    color:cadetblue;
    text-align: right;
    height: 20px;
    font-size: 16px;
    border: 1px solid #ccc;
    text-decoration: none;
}
</style>
{% endblock %}
{% block main %}
    <div>
        <form class="form-horizontal" role="form" method="post">
            <div class="form-group">
                <label for="contestTitle" class="col-sm-4 control-label">Contest title:</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="title" id="contestTitle" placeholder="Contest title">
                </div>
            </div>
            <div class="form-group">
                <label for="permission" class="col-sm-4 control-label">Permission:</label>
                <div class="col-sm-6">
                    <select class="form-control" name="permission" id="permission">
                        <option value="0">Public - Anyone can see and submit</option>
                        <option value="1">Protected - Anyone can see, but only users knowing password can submit</option>
                        <option value="2">Private - Anyone users knowing password can see and submit</option>
                    </select>
                </div>
            </div>
            <div class="form-group" id="passwordWrapper" style="display: none">
                <label for="password" class="col-sm-4 control-label">Password:</label>
                <div class="col-sm-6">
                    <input type="password" class="form-control" id="password" placeholder="contest password">
                </div>
            </div>
            <script>
                var permission = document.getElementById("permission");
                var passwordWrapper = document.getElementById("passwordWrapper");
                permission.onchange = function() {
                    if (this.value > 0) {
                        passwordWrapper.style.display = "";
                    }else {
                        passwordWrapper.style.display = "none";
                    }
                }
            </script>
            <div class="form-group">
                <label for="startDatePicker" class="col-sm-4 control-label">Start Date&Time(<span class="time-zone"></span>):</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="startDatePicker" id="startDatePicker" value="" />
                </div>
            </div>
            <div class="form-group">
                <label for="endDatePicker" class="col-sm-4 control-label">End Date&Time(<span class="time-zone"></span>):</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="endDatePicker" id="endDatePicker" value="" />
                </div>
            </div>
            <div class="form-group">
                <label for="desc" class="col-sm-4 control-label">Description:</label>
                <div class="col-sm-6">
                    <textarea class="form-control" rows="5" id="desc"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Problem(s):</label>
                <div class="col-sm-8">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Number</th>
                                <th>Real location</th>
                                <th>Title</th>
                                <th>Alias</th>
                            </tr>
                            <div class="add-problem-action">
                                <a href="#"><span class="glyphicon glyphicon-plus"></span>Add</a>
                            </div>
                        </thead>
                        <tbody>
                            <tr>
                                <th>Number</th>
                                <th>Real location</th>
                                <th>Title</th>
                                <th>Alias</th>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="form-group">
                <div class="text-center">
                    <button type="submit" class="btn btn-diy">Create</button>
                </div>
            </div>

        </form>
    </div>
{% endblock %}

{% block script %}
{% load static %}
<script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/daterangepicker.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'css/daterangepicker.css' %}" />
<script type="text/javascript">
$(function() {
    $('input[name="startDatePicker"]').daterangepicker({
        applyClass:"btn-diy",
        timePicker: true,
        timePickerIncrement: 5,
        timePicker24Hour: true,
        "singleDatePicker": true,
        "showDropdowns": true,
        "alwaysShowCalendars": true,
        "minDate": "2017/01/01 23:01",
        locale: {
            format: 'YYYY/MM/DD H:m'
        }
    });
    $('input[name="endDatePicker"]').daterangepicker({
        applyClass:"btn-diy",
        timePicker: true,
        timePickerIncrement: 5,
        timePicker24Hour: true,
        "singleDatePicker": true,
        "showDropdowns": true,
        "alwaysShowCalendars": true,
        "minDate": "2017/01/01 23:01",
        locale: {
            format: 'YYYY/MM/DD H:m'
        }
    });

    $(".time-zone").text(timezoneName);
});
</script>
{% endblock %}